pipeline{
    agent any

    environment{
        TEST1= "Test value1"
        TEST2= "Test Value2"
    }

    stages{
        stage ('Dev') {
            steps
        {
            catchError(buildResult: "SUCCESS", stageResult: "FAILURE")
         sh '''
         echo $TEST1
         sleep 5
         exit 1
         '''

        }

        }

        stage ('Test') {
            steps
        {
            echo "Test"
        }

        }
        
        stage ('Build') {
            steps
        {
            echo "Build"
        }

        }
    }
}